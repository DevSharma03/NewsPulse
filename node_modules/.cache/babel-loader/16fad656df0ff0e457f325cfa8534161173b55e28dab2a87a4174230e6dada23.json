{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROGRAMMING\\\\Web Development\\\\React.js\\\\project-2\\\\src\\\\Components\\\\News.js\";\nimport React, { Component } from 'react';\nimport Newsitems from './Newsitems'; // Component for individual news items\nimport Spinner from './Spinner'; // Spinner component for loading state\nimport PropTypes from 'prop-types'; // For prop validation\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class News extends Component {\n  // Initialize state variables\n  constructor() {\n    super();\n    // Handle click event for the \"Next Page\" button\n    this.handleNextClick = async () => {\n      this.setState({\n        page: this.state.page + 1\n      }, this.updateNews);\n    };\n    // Handle click event for the \"Previous Page\" button\n    this.handlePreviousClick = async () => {\n      this.setState({\n        page: this.state.page - 1\n      }, this.updateNews);\n    };\n    this.state = {\n      articales: [],\n      // Array to store fetched articles\n      loading: false,\n      // Boolean to indicate loading state\n      page: 1 // Current page number\n    };\n  }\n\n  // Function to fetch and update news data\n  async updateNews() {\n    try {\n      // Construct the API URL with dynamic parameters\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=062cfa709b6d45a68425747443409336&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n      this.setState({\n        loading: true\n      }); // Set loading state to true before fetching\n\n      // Fetch data from the API\n      let data = await fetch(url);\n      let parsedData = await data.json(); // Parse the data into JSON format\n\n      console.log(\"API Response:\", parsedData); // Log API response for debugging\n\n      // Update state with fetched articles and total results\n      if (parsedData && parsedData.articles) {\n        this.setState({\n          articales: parsedData.articles,\n          totalArticales: parsedData.totalResults,\n          loading: false\n        });\n      } else {\n        console.error(\"Error fetching articles:\", parsedData);\n        this.setState({\n          articales: [],\n          loading: false\n        }); // Handle errors gracefully\n      }\n    } catch (error) {\n      console.error(\"API fetch error:\", error);\n      this.setState({\n        articales: [],\n        loading: false\n      }); // Handle API fetch errors\n    }\n  }\n\n  // Lifecycle method to fetch news after component mounts\n  async componentDidMount() {\n    this.updateNews();\n  }\n  // Render method to display the component\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Top News Headlines\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: !this.state.loading && Array.isArray(this.state.articales) && this.state.articales.map(element => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(Newsitems, {\n              title: element.title ? element.title.slice(0, 40) : 'No Title',\n              description: element.description ? element.description.slice(0, 80) : 'No Description',\n              imageUrl: element.urlToImage,\n              newsUrl: element.url,\n              author: element.author,\n              date: element.publishedAt,\n              source: element.source.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 37\n            }, this)\n          }, element.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: this.state.page <= 1,\n          type: \"button\",\n          onClick: this.handlePreviousClick,\n          className: \"btn btn-dark my-2 mx-2\",\n          children: \"\\u2190 Previous Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.page + 1 > Math.ceil(this.state.totalArticales / this.props.pageSize),\n          className: \"btn btn-dark my-2 mx-2\",\n          onClick: this.handleNextClick,\n          children: \"Next Page \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n}\n// Default props for the News component\nNews.defaultProps = {\n  country: 'us',\n  // Default country for news\n  pageSize: 9,\n  // Default number of articles per page\n  category: 'general' // Default category of news\n};\n// Type checking for props\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};","map":{"version":3,"names":["React","Component","Newsitems","Spinner","PropTypes","jsxDEV","_jsxDEV","News","constructor","handleNextClick","setState","page","state","updateNews","handlePreviousClick","articales","loading","url","props","country","category","pageSize","data","fetch","parsedData","json","console","log","articles","totalArticales","totalResults","error","componentDidMount","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Array","isArray","map","element","title","slice","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","disabled","type","onClick","Math","ceil","defaultProps","propTypes","string","number"],"sources":["E:/PROGRAMMING/Web Development/React.js/project-2/src/Components/News.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Newsitems from './Newsitems'; // Component for individual news items\r\nimport Spinner from './Spinner'; // Spinner component for loading state\r\nimport PropTypes from 'prop-types'; // For prop validation\r\n\r\nexport default class News extends Component {\r\n    // Default props for the News component\r\n    static defaultProps = {\r\n        country: 'us', // Default country for news\r\n        pageSize: 9, // Default number of articles per page\r\n        category: 'general', // Default category of news\r\n    };\r\n\r\n    // Type checking for props\r\n    static propTypes = {\r\n        country: PropTypes.string,\r\n        pageSize: PropTypes.number,\r\n        category: PropTypes.string,\r\n    };\r\n\r\n    // Initialize state variables\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            articales: [], // Array to store fetched articles\r\n            loading: false, // Boolean to indicate loading state\r\n            page: 1, // Current page number\r\n        };\r\n    }\r\n\r\n    // Function to fetch and update news data\r\n    async updateNews() {\r\n        try {\r\n            // Construct the API URL with dynamic parameters\r\n            let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=062cfa709b6d45a68425747443409336&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n            \r\n            this.setState({ loading: true }); // Set loading state to true before fetching\r\n\r\n            // Fetch data from the API\r\n            let data = await fetch(url);\r\n            let parsedData = await data.json(); // Parse the data into JSON format\r\n\r\n            console.log(\"API Response:\", parsedData); // Log API response for debugging\r\n\r\n            // Update state with fetched articles and total results\r\n            if (parsedData && parsedData.articles) {\r\n                this.setState({\r\n                    articales: parsedData.articles,\r\n                    totalArticales: parsedData.totalResults,\r\n                    loading: false,\r\n                });\r\n            } else {\r\n                console.error(\"Error fetching articles:\", parsedData);\r\n                this.setState({ articales: [], loading: false }); // Handle errors gracefully\r\n            }\r\n        } catch (error) {\r\n            console.error(\"API fetch error:\", error);\r\n            this.setState({ articales: [], loading: false }); // Handle API fetch errors\r\n        }\r\n    }\r\n\r\n    // Lifecycle method to fetch news after component mounts\r\n    async componentDidMount() {\r\n        this.updateNews();\r\n    }\r\n\r\n    // Handle click event for the \"Next Page\" button\r\n    handleNextClick = async () => {\r\n        this.setState({ page: this.state.page + 1 }, this.updateNews);\r\n    };\r\n\r\n    // Handle click event for the \"Previous Page\" button\r\n    handlePreviousClick = async () => {\r\n        this.setState({ page: this.state.page - 1 }, this.updateNews);\r\n    };\r\n\r\n    // Render method to display the component\r\n    render() {\r\n        return (\r\n            <div className=\"container my-3\">\r\n                <h1 className=\"text-center\">Top News Headlines</h1>\r\n\r\n                {/* Show spinner while loading */}\r\n                {this.state.loading && <Spinner />}\r\n\r\n                <div className=\"row\">\r\n                    {/* Display news articles only if not loading */}\r\n                    {!this.state.loading &&\r\n                        Array.isArray(this.state.articales) &&\r\n                        this.state.articales.map((element) => {\r\n                            return (\r\n                                <div className=\"col-md-4\" key={element.url}>\r\n                                    {/* Render individual news items */}\r\n                                    <Newsitems\r\n                                        title={element.title ? element.title.slice(0, 40) : 'No Title'}\r\n                                        description={element.description ? element.description.slice(0, 80) : 'No Description'}\r\n                                        imageUrl={element.urlToImage}\r\n                                        newsUrl={element.url}\r\n                                        author={element.author}\r\n                                        date={element.publishedAt}\r\n                                        source={element.source.name}\r\n                                    />\r\n                                </div>\r\n                            );\r\n                        })}\r\n                </div>\r\n\r\n                {/* Pagination buttons */}\r\n                <div className=\"container d-flex justify-content-between\">\r\n                    {/* Disable \"Previous Page\" button on the first page */}\r\n                    <button\r\n                        disabled={this.state.page <= 1}\r\n                        type=\"button\"\r\n                        onClick={this.handlePreviousClick}\r\n                        className=\"btn btn-dark my-2 mx-2\"\r\n                    >\r\n                        &larr; Previous Page\r\n                    </button>\r\n\r\n                    {/* Disable \"Next Page\" button if there are no more pages */}\r\n                    <button\r\n                        type=\"button\"\r\n                        disabled={this.state.page + 1 > Math.ceil(this.state.totalArticales / this.props.pageSize)}\r\n                        className=\"btn btn-dark my-2 mx-2\"\r\n                        onClick={this.handleNextClick}\r\n                    >\r\n                        Next Page &rarr;\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}